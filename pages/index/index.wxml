<!--pages/index/index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
  <view class="header">
    <view class="header-title">{{communityName}}</view>
  </view>
  
  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <view class="main-content">
    <view class="subtitle">å°åŒºæ¥è®¿ç™»è®°</view>
    
    <!-- å®šä½å›¾æ ‡ -->
    <view class="location-icon">
      <view class="icon-circle">
        <text class="icon-location">ğŸ“</text>
      </view>
    </view>
    
    <!-- åœ°å€ä¿¡æ¯ -->
    <view class="property-name">{{communityName}}ç‰©ä¸š</view>
    <view class="address-info">{{areaName}} / {{cityName}}</view>
    
    <!-- ç”¨æˆ·ä¿¡æ¯å¡«å†™åŒºåŸŸ - ç´§å‡‘è®¾è®¡ -->
    <view class="user-info-compact">
      <!-- å¤´åƒå’Œæ˜µç§°ä¸€è¡Œæ˜¾ç¤º -->
      <view class="user-info-row">
        <!-- å¤´åƒé€‰æ‹© -->
        <view class="avatar-section-compact">
          <button class="avatar-wrapper-compact" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
            <image class="avatar-compact" src="{{avatarUrl}}" mode="aspectFill"></image>
          </button>
        </view>
        
        <!-- æ˜µç§°è¾“å…¥ -->
        <view class="nickname-section-compact">
          <input 
            type="nickname" 
            class="nickname-input-compact" 
            placeholder="ç‚¹å‡»è¾“å…¥æ˜µç§°"
            value="{{nickName}}"
            bindinput="onNickNameInput"/>
        </view>
      </view>
      
      <!-- æç¤ºæ–‡å­— -->
      <view class="user-info-tips">
        <text class="tip-text">{{nickName ? 'å·²å¡«å†™æ˜µç§°' : 'è¯·é€‰æ‹©å¤´åƒå¹¶è¾“å…¥æ˜µç§°'}}</text>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
  <view class="bottom-section">
    <!-- ä¸€é”®ç™»è®°æŒ‰é’®ï¼ŒåŒ…å«è·å–æ‰‹æœºå·æƒé™ -->
    <button 
      class="register-btn" 
      open-type="getPhoneNumber" 
      bindgetphonenumber="onGetPhoneNumber"
      disabled="{{!avatarUrl || avatarUrl === defaultAvatarUrl || !nickName}}">
      ç‚¹å‡»ä¸€é”®ç™»è®°
    </button>
  </view>
  
  <!-- ç®¡ç†å‘˜å…¥å£ -->
  <view class="admin-entrance">
    <text class="admin-link" bindtap="onAdminLogin">ç®¡ç†å‘˜ç™»å½•</text>
  </view>
</view>
